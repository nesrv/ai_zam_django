{% extends 'base/base.html' %}

{% block title %}AI –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <h1>ü§ñ AI –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h1>
            
            <!-- –≠—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∞—é—â–µ–π –º–∞—à–∏–Ω–∫–∏ -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="card-title mb-0">üë®‚Äçüîß –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å</h5>
                </div>
                <div class="card-body">
                    <div id="typewriter-container" class="typewriter-container">
                        <div id="typewriter-text" class="typewriter-text"></div>
                        <span id="typewriter-cursor" class="typewriter-cursor">|</span>
                    </div>
                    
                    <!-- –ü—Ä–∏–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞ -->
                    <div id="example-qa" class="mt-4" style="display: none;">
                        <div class="example-question">
                            <strong>–í–æ–ø—Ä–æ—Å:</strong> –°–æ—Å—Ç–∞–≤—å –ª–∏–º–∏—Ç–Ω–æ-–∑–∞–±–æ—Ä–Ω—É—é –∫–∞—Ä—Ç—É: –±–µ—Ç–æ–Ω –ú300, –∞—Ä–º–∞—Ç—É—Ä–∞ –ê500–°, –æ–ø–∞–ª—É–±–∫–∞ —â–∏—Ç–æ–≤–∞—è
                        </div>
                        <div class="example-answer mt-2">
                            <strong>–û—Ç–≤–µ—Ç:</strong> <span id="example-answer-text"></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <p class="lead">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞!</p>
            
            <!-- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="card-title mb-0">üîó –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>DeepSeek API:</strong> {{ api_status }}</p>
                            <p><strong>API URL:</strong> {{ deepseek_url }}</p>
                            <p><strong>API Key:</strong> {{ api_key_preview }}</p>
                        </div>
                        <div class="col-md-6">
                            {% if api_status == "‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω" %}
                                <div class="alert alert-success">
                                    <i class="fas fa-check-circle"></i> –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
                                </div>
                            {% else %}
                                <div class="alert alert-warning">
                                    <i class="fas fa-exclamation-triangle"></i> –î–ª—è —Ä–∞–±–æ—Ç—ã —á–∞—Ç-–±–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –§—É–Ω–∫—Ü–∏–∏ AI -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="card-title mb-0">üçΩÔ∏è –§—É–Ω–∫—Ü–∏–∏ AI</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <h5 class="card-title">üí¨ –û–±—â–∏–π —á–∞—Ç</h5>
                                    <p class="card-text">–û–±—â–∞–π—Ç–µ—Å—å —Å AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã</p>
                                    <a href="{% url 'ai:chat' %}" class="btn btn-primary">–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <h5 class="card-title">üç≥ –ú–µ–Ω—é –Ω–∞ –¥–µ–Ω—å</h5>
                                    <p class="card-text">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–Ω—é –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å —Å —É—á–µ—Ç–æ–º –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π</p>
                                    <a href="{% url 'ai:menu_generator' %}" class="btn btn-success">–°–æ–∑–¥–∞—Ç—å –º–µ–Ω—é</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <h5 class="card-title">üìÖ –ú–µ–Ω—é –Ω–∞ –Ω–µ–¥–µ–ª—é</h5>
                                    <p class="card-text">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –≤—Å—é –Ω–µ–¥–µ–ª—é</p>
                                    <a href="{% url 'ai:menu_generator' %}" class="btn btn-info">–ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <h5 class="card-title">ü§ñ Telegram-–±–æ—Ç</h5>
                                    <p class="card-text">AI –ø–æ–º–æ—â–Ω–∏–∫ –≤ Telegram —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ–Ω—é</p>
                                    <a href="{% url 'telegrambot:status' %}" class="btn btn-warning">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –î–µ–π—Å—Ç–≤–∏—è -->
            <div class="mt-4">
                <a href="{% url 'telegrambot:status' %}" class="btn btn-warning me-2">
                    ü§ñ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Telegram-–±–æ—Ç–æ–º
                </a>
                <a href="{% url 'telegrambot:management' %}" class="btn btn-outline-warning">
                    üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞
                </a>
            </div>
            
            <!-- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
                </div>
                <div class="card-body">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">
                            <strong>–ú–æ–¥–µ–ª–∏ AI:</strong> DeepSeek Chat, DeepSeek Coder
                        </li>
                        <li class="list-group-item">
                            <strong>–§—É–Ω–∫—Ü–∏–∏:</strong> –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–Ω—é, –æ–±—â–∏–π —á–∞—Ç, –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
                        </li>
                        <li class="list-group-item">
                            <strong>–•—Ä–∞–Ω–µ–Ω–∏–µ:</strong> –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
                        </li>
                        <li class="list-group-item">
                            <strong>API:</strong> RESTful API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.typewriter-container {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 20px;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    line-height: 1.6;
    min-height: 120px;
    position: relative;
}

.typewriter-text {
    color: #333;
    white-space: pre-wrap;
}

.typewriter-cursor {
    color: #007bff;
    font-weight: bold;
    animation: blink 1s infinite;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.example-question {
    background-color: #e3f2fd;
    padding: 10px;
    border-radius: 5px;
    border-left: 4px solid #2196f3;
}

.example-answer {
    background-color: #f3e5f5;
    padding: 10px;
    border-radius: 5px;
    border-left: 4px solid #9c27b0;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    white-space: pre-wrap;
}
</style>

<script>
console.log('–°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–µ–Ω, –∂–¥–µ–º DOM...');

document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø–µ—á–∞—Ç–∞—é—â–µ–π –º–∞—à–∏–Ω–∫–∏');
    
    const typewriterText = document.getElementById('typewriter-text');
    const typewriterCursor = document.getElementById('typewriter-cursor');
    const exampleQa = document.getElementById('example-qa');
    const exampleAnswerText = document.getElementById('example-answer-text');
    
    console.log('–ù–∞–π–¥–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:', {
        typewriterText: typewriterText,
        typewriterCursor: typewriterCursor,
        exampleQa: exampleQa,
        exampleAnswerText: exampleAnswerText
    });
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã
    if (!typewriterText || !typewriterCursor || !exampleQa || !exampleAnswerText) {
        console.error('–ù–µ –Ω–∞–π–¥–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:', {
            typewriterText: !!typewriterText,
            typewriterCursor: !!typewriterCursor,
            exampleQa: !!exampleQa,
            exampleAnswerText: !!exampleAnswerText
        });
        return;
    }
    
    console.log('–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–π–¥–µ–Ω—ã, –Ω–∞—á–∏–Ω–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é');
    
    // –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    const welcomeMessage = "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å —Å 30-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º. –ó–∞–¥–∞–π—Ç–µ –º–Ω–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.";
    
    // –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
    const exampleAnswer = `–î—É–º–∞—é...

–õ–ò–ú–ò–¢–ù–û-–ó–ê–ë–û–†–ù–ê–Ø –ö–ê–†–¢–ê (–õ–ó–ö)
‚Ññ _______
–í—ã–¥–∞–Ω–∞: _________________________ (–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
–û—Å–Ω–æ–≤–∞–Ω–∏–µ: _____________________ (–¥–æ–≥–æ–≤–æ—Ä/–Ω–∞—Ä—è–¥-–∑–∞–∫–∞–∑ ‚Ññ, –ø—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
–û–±—ä–µ–∫—Ç: ________________________ (–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)

‚Ññ –ø/–ø	–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞	–ï–¥. –∏–∑–º.	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–ª–∏–º–∏—Ç)	–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞	–û—Å—Ç–∞—Ç–æ–∫	–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
1	–ë–µ—Ç–æ–Ω –ú300 (—Ç–æ–≤–∞—Ä–Ω—ã–π)	–º¬≥	_____	_____	_____	–ü–æ –ì–û–°–¢ 7473-2010
2	–ê—Ä–º–∞—Ç—É—Ä–∞ –ê500–°, √ò ____ –º–º	—Ç	_____	_____	_____	–ü–æ –ì–û–°–¢ 34028-2016
3	–û–ø–∞–ª—É–±–∫–∞ —â–∏—Ç–æ–≤–∞—è (—Å—Ç–∞–ª—å/—Ñ–∞–Ω–µ—Ä–∞)	–º¬≤	_____	_____	_____	–¢–∏–ø: ___________

–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –ª–∏—Ü–∞:

–í—ã–¥–∞–ª: _______________ (–§–ò–û, –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –ø–æ–¥–ø–∏—Å—å)
–ü–æ–ª—É—á–∏–ª: _____________ (–§–ò–û, –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –ø–æ–¥–ø–∏—Å—å)
–ö–æ–Ω—Ç—Ä–æ–ª—å: ____________ (–§–ò–û, –ø–æ–¥–ø–∏—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞/—Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä–∞)
–î–∞—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è: ¬´_¬ª ________ 20__`;
    
    let isTyping = true;
    
    function typeWriter(text, targetElement, onComplete) {
        let currentIndex = 0;
        
        function typeNext() {
            if (currentIndex < text.length) {
                targetElement.textContent += text.charAt(currentIndex);
                currentIndex++;
                setTimeout(typeNext, 50);
            } else {
                if (onComplete) onComplete();
            }
        }
        
        typeNext();
    }
    
    // –ù–∞—á–∏–Ω–∞–µ–º –ø–µ—á–∞—Ç–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    console.log('–ù–∞—á–∏–Ω–∞–µ–º –ø–µ—á–∞—Ç–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
    typeWriter(welcomeMessage, typewriterText, function() {
        console.log('–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ');
        // –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä
        setTimeout(() => {
            console.log('–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞');
            exampleQa.style.display = 'block';
            typeWriter(exampleAnswer, exampleAnswerText, function() {
                console.log('–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω');
                // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                isTyping = false;
            });
        }, 1000);
    });
    
    // –°–∫—Ä—ã–≤–∞–µ–º –∫—É—Ä—Å–æ—Ä –∫–æ–≥–¥–∞ –Ω–µ –ø–µ—á–∞—Ç–∞–µ–º
    setTimeout(() => {
        if (!isTyping) {
            typewriterCursor.style.display = 'none';
        }
    }, 2000);
});

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
window.addEventListener('load', function() {
    console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
});
</script>
{% endblock %} 